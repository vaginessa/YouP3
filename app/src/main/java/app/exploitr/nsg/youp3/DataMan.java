package app.exploitr.nsg.youp3;

import android.content.Context;
import android.content.SharedPreferences;
import android.preference.PreferenceManager;

import java.util.HashSet;
import java.util.Map;
import java.util.Set;

class DataMan {

    private static DataMan instance;
    private final SharedPreferences save;

    private DataMan(Context context) {
        save = PreferenceManager.getDefaultSharedPreferences(context);
    }

    static DataMan getInstance(Context context) {
        if (instance == null) {
            instance = new DataMan(context);
        }
        return instance;
    }

    public void addDownload(String title,String length,String link,String location) {
        Set<String> set = new HashSet<>(100);
        if(title!=null)set.add(title);
        if(length!=null)set.add(length);
        if(link!=null)set.add(length);
        if(location!=null)set.add(location);
        save.edit().putStringSet(String.valueOf(System.currentTimeMillis()),set).apply();
    }
    Map<String, ?> getAll(){
        return save.getAll();
    }
}


